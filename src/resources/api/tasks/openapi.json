{"openapi":"3.0.3","info":{"title":"Insights Tasks API","version":"1.0.0","description":"The API for managing and issuing Red Hat generated tasks on your infrastructure"},"paths":{"/api/tasks/v1/executed_task":{"get":{"operationId":"api_tasks_v1_executed_task_list","description":"View a list of executed tasks, or a single executed task","parameters":[{"name":"limit","required":false,"in":"query","description":"Number of results to return per page.","schema":{"type":"integer"}},{"name":"offset","required":false,"in":"query","description":"The initial index from which to return the results.","schema":{"type":"integer"}}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedExecutedTaskList"}}},"description":""}}},"post":{"operationId":"api_tasks_v1_executed_task_create","description":"View a list of executed tasks, or a single executed task","tags":["api"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecuteTask"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/ExecuteTask"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/ExecuteTask"}}},"required":true},"security":[{"x-rh-identity":[]}],"responses":{"201":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutedTaskOne"}}},"description":""}}}},"/api/tasks/v1/executed_task/{id}":{"get":{"operationId":"api_tasks_v1_executed_task_retrieve","description":"Retrieve a single executed task, along with its list of jobs and the\nsystems they represent.","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this executed task.","required":true}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutedTaskOne"}}},"description":""}}},"delete":{"operationId":"api_tasks_v1_executed_task_destroy","description":"Delete an existing execut(ing,ed) task.  If the task is still\nexecuting (i.e. it is not yet cancelled or completed) then also\ncancel all running jobs.  This also deletes the data for all of the\nexecuted task's jobs.","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this executed task.","required":true}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"204":{"description":"No response body"}}}},"/api/tasks/v1/executed_task/{id}/cancel":{"post":{"operationId":"api_tasks_v1_executed_task_cancel_create","description":"Cancel an existing executed task, by ID.\n\nThis sends a signal to the Playbook Dispatcher to cancel all the jobs\nin this executed task.  It updates the state of the executed task to\nbe CANCELLED.  Jobs in this task will be updated as we receive\nmessages back from the Playbook Dispatcher.","parameters":[{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this executed task.","required":true}],"tags":["api"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutedTask"}},"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/ExecutedTask"}},"multipart/form-data":{"schema":{"$ref":"#/components/schemas/ExecutedTask"}}},"required":true},"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExecutedTask"}}},"description":""}}}},"/api/tasks/v1/executed_task/{id}/jobs":{"get":{"operationId":"api_tasks_v1_executed_task_jobs_list","description":"View a list of executed tasks, or a single executed task","parameters":[{"in":"query","name":"display_name","schema":{"type":"string"},"description":"Display systems with this text in their display_name"},{"in":"path","name":"id","schema":{"type":"integer"},"description":"A unique integer value identifying this executed task.","required":true},{"name":"limit","required":false,"in":"query","description":"Number of results to return per page.","schema":{"type":"integer"}},{"name":"offset","required":false,"in":"query","description":"The initial index from which to return the results.","schema":{"type":"integer"}},{"in":"query","name":"os_version","schema":{"type":"array","items":{"type":"string","enum":["6.0","6.1","6.10","6.2","6.3","6.4","6.5","6.6","6.7","6.8","6.9","7.0","7.1","7.10","7.2","7.3","7.4","7.5","7.6","7.7","7.8","7.9","8.0","8.1","8.2","8.3","8.4","8.5","8.6","8.7","8.8","9.0","9.1","9.2"]}},"description":["Display only systems with these OS versions"],"style":"form"},{"in":"query","name":"sort","schema":{"type":"string","enum":["-display_name","-last_seen","-os_version","-status","display_name","last_seen","os_version","status"],"default":"display_name"},"description":"Sort systems by this field"},{"in":"query","name":"status","schema":{"type":"array","items":{"type":"string","enum":["Cancelled","Failure","Running","Success","Timeout"]}},"style":"form"},{"in":"query","name":"tags","schema":{"type":"array","items":{"type":"string","format":"regex","pattern":"^[^/=]+/[^/=]+=[^/=]+$"}},"description":"Tags have a namespace, key and value in the form namespace/key=value","style":"form"}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedJobList"}}},"description":""}}}},"/api/tasks/v1/system":{"get":{"operationId":"api_tasks_v1_system_list","parameters":[{"in":"query","name":"display_name","schema":{"type":"string"},"description":"Display systems with this text in their display_name"},{"name":"limit","required":false,"in":"query","description":"Number of results to return per page.","schema":{"type":"integer"}},{"name":"offset","required":false,"in":"query","description":"The initial index from which to return the results.","schema":{"type":"integer"}},{"in":"query","name":"os_version","schema":{"type":"array","items":{"type":"string","enum":["6.0","6.1","6.10","6.2","6.3","6.4","6.5","6.6","6.7","6.8","6.9","7.0","7.1","7.10","7.2","7.3","7.4","7.5","7.6","7.7","7.8","7.9","8.0","8.1","8.2","8.3","8.4","8.5","8.6","8.7","8.8","9.0","9.1","9.2"]}},"description":["Display only systems with these OS versions"],"style":"form"},{"in":"query","name":"sort","schema":{"type":"string","enum":["-display_name","-last_seen","-os_version","display_name","last_seen","os_version"],"default":"display_name"},"description":"Sort systems by this field"},{"in":"query","name":"tags","schema":{"type":"array","items":{"type":"string","format":"regex","pattern":"^[^/=]+/[^/=]+=[^/=]+$"}},"description":"Tags have a namespace, key and value in the form namespace/key=value","style":"form"}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedHostList"}}},"description":""}}}},"/api/tasks/v1/system/{id}":{"get":{"operationId":"api_tasks_v1_system_retrieve","parameters":[{"in":"path","name":"id","schema":{"type":"string","format":"uuid"},"description":"A UUID string identifying this host.","required":true}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Host"}}},"description":""}}}},"/api/tasks/v1/task":{"get":{"operationId":"api_tasks_v1_task_list","description":"View a list of tasks, or a single task","parameters":[{"name":"limit","required":false,"in":"query","description":"Number of results to return per page.","schema":{"type":"integer"}},{"name":"offset","required":false,"in":"query","description":"The initial index from which to return the results.","schema":{"type":"integer"}}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaginatedTaskList"}}},"description":""}}}},"/api/tasks/v1/task/{slug}":{"get":{"operationId":"api_tasks_v1_task_retrieve","description":"View a list of tasks, or a single task","parameters":[{"in":"path","name":"slug","schema":{"type":"string"},"required":true}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}},"description":""}}}},"/api/tasks/v1/task/{slug}/playbook":{"get":{"operationId":"api_tasks_v1_task_playbook_retrieve","description":"Return the playbook for this task.\n\nPlaybook generally do not change per task.","parameters":[{"in":"query","name":"format","schema":{"type":"string","enum":["json","yaml"]}},{"in":"path","name":"slug","schema":{"type":"string"},"required":true}],"tags":["api"],"security":[{"x-rh-identity":[]}],"responses":{"200":{"content":{"application/yaml":{"schema":{"$ref":"#/components/schemas/Task"}},"application/json":{"schema":{"$ref":"#/components/schemas/Task"}}},"description":""}}}}},"components":{"schemas":{"ExecuteTask":{"type":"object","description":"Execute a task on a given set of hosts.\n\nCreates an ExecutedTask object and one or more Job objects, one for each\nrecognised host.","properties":{"task":{"type":"string","pattern":"^[-a-zA-Z0-9_]+$"},"hosts":{"type":"array","items":{"type":"string","format":"uuid"}}},"required":["hosts","task"]},"ExecutedTask":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"task_url":{"type":"string","format":"uri","readOnly":true},"task_slug":{"type":"string","pattern":"^[-a-zA-Z0-9_]+$"},"task_title":{"type":"string"},"task_description":{"type":"string"},"initiated_by":{"type":"string","description":"username","maxLength":80},"start_time":{"type":"string","format":"date-time"},"end_time":{"type":"string","format":"date-time","nullable":true},"status":{"type":"string"},"systems_count":{"type":"integer"}},"required":["id","initiated_by","start_time","status","systems_count","task_description","task_slug","task_title","task_url"]},"ExecutedTaskOne":{"type":"object","properties":{"id":{"type":"integer","readOnly":true},"task_slug":{"type":"string","pattern":"^[-a-zA-Z0-9_]+$"},"task_title":{"type":"string"},"task_description":{"type":"string"},"initiated_by":{"type":"string","description":"username","maxLength":80},"start_time":{"type":"string","format":"date-time"},"end_time":{"type":"string","format":"date-time","nullable":true},"status":{"type":"string"},"jobs":{"type":"array","items":{"$ref":"#/components/schemas/JobTask"}},"systems_count":{"type":"integer"}},"required":["id","initiated_by","jobs","start_time","status","systems_count","task_description","task_slug","task_title"]},"Host":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"display_name":{"type":"string","maxLength":200},"tags":{"type":"object","additionalProperties":{}},"os_version":{"type":"string"},"updated":{"type":"string","format":"date-time"},"connection_type":{"type":"string"},"stale_timestamp":{"type":"string","format":"date-time"},"stale_warning_timestamp":{"type":"string","format":"date-time"},"culled_timestamp":{"type":"string","format":"date-time"}},"required":["connection_type","culled_timestamp","display_name","id","os_version","stale_timestamp","stale_warning_timestamp","tags","updated"]},"Job":{"type":"object","properties":{"executed_task":{"type":"integer"},"system":{"type":"string","format":"uuid"},"status":{"type":"string"},"results":{"type":"object","additionalProperties":{}},"updated_on":{"type":"string","format":"date-time"},"display_name":{"type":"string"},"connection_type":{"type":"string"}},"required":["connection_type","display_name","executed_task","results","status","system","updated_on"]},"JobTask":{"type":"object","description":"The jobs for a particular executed task","properties":{"system_id":{"type":"string","format":"uuid"},"display_name":{"type":"string"},"status":{"type":"string"},"results":{"type":"object","additionalProperties":{}},"updated_on":{"type":"string","format":"date-time"}},"required":["display_name","results","status","system_id","updated_on"]},"PaginatedExecutedTaskList":{"type":"object","properties":{"meta":{"type":"object","properties":{"count":{"type":"integer","example":169}},"required":["count"]},"links":{"type":"object","properties":{"first":{"type":"string","format":"uri","nullable":true},"previous":{"type":"string","format":"uri","nullable":true},"next":{"type":"string","format":"uri","nullable":true},"last":{"type":"string","format":"uri","nullable":true}}},"data":{"type":"array","items":{"$ref":"#/components/schemas/ExecutedTask"}}}},"PaginatedHostList":{"type":"object","properties":{"meta":{"type":"object","properties":{"count":{"type":"integer","example":169}},"required":["count"]},"links":{"type":"object","properties":{"first":{"type":"string","format":"uri","nullable":true},"previous":{"type":"string","format":"uri","nullable":true},"next":{"type":"string","format":"uri","nullable":true},"last":{"type":"string","format":"uri","nullable":true}}},"data":{"type":"array","items":{"$ref":"#/components/schemas/Host"}}}},"PaginatedJobList":{"type":"object","properties":{"meta":{"type":"object","properties":{"count":{"type":"integer","example":169}},"required":["count"]},"links":{"type":"object","properties":{"first":{"type":"string","format":"uri","nullable":true},"previous":{"type":"string","format":"uri","nullable":true},"next":{"type":"string","format":"uri","nullable":true},"last":{"type":"string","format":"uri","nullable":true}}},"data":{"type":"array","items":{"$ref":"#/components/schemas/Job"}}}},"PaginatedTaskList":{"type":"object","properties":{"meta":{"type":"object","properties":{"count":{"type":"integer","example":169}},"required":["count"]},"links":{"type":"object","properties":{"first":{"type":"string","format":"uri","nullable":true},"previous":{"type":"string","format":"uri","nullable":true},"next":{"type":"string","format":"uri","nullable":true},"last":{"type":"string","format":"uri","nullable":true}}},"data":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}},"Task":{"type":"object","properties":{"slug":{"type":"string","maxLength":50,"pattern":"^[-a-zA-Z0-9_]+$"},"title":{"type":"string","maxLength":200},"description":{"type":"string"},"publish_date":{"type":"string","format":"date-time"}},"required":["description","publish_date","slug","title"]}},"securitySchemes":{"x-rh-identity":{"type":"apiKey","in":"header","name":"x-rh-identity"}}},"servers":[{"url":"https://console.redhat.com/","description":"The API of the Advisor project in Insights"},{"url":"https://cloud.redhat.com/","description":"The API of the Advisor project in Insights"}]}